# 输入输出系统
### 锁
Q:为什么要有锁？
A:一种互斥的机制，互斥能使临界区具有原子性，避免产生竞争条件，从而避免了多任务访问公共资源时出问题

● 公共资源
可以是公共内存、公共文件、公共硬件等，总之是被所有任务共享的一套资源。
● 临界区
临界区是指程序中那些访问公共资源的指令代码，即临界区是指令，并不是受访的静态公共资源。
● 互斥
互斥也可称为排他，是指某一时刻公共资源只能被 1 个任务独享，即不允许多个任务同时出现在自己的临界区中。
● 竞争条件
竞争条件是指多个任务以非互斥的方式同时进入临界区，大家对公共资源的访问是以竞争的方式并行进行的，因此公共资源的最终状态依赖于这些任务的临界区中的微操作执行次序。

#### 信号量
*信号量就是个计数器，它的计数值是自然数，用来记录所积累信号的数量*

增加操作 up 包括两个微操作。
1. 将信号量的值加 1。
2. 唤醒在此信号量上等待的线程。
减少操作 down 包括三个子操作。
1. 判断信号量是否大于 0。
2. 若信号量大于 0，则将信号量减 1。
3. 若信号量等于 0，当前线程将自己阻塞，以在此信号量上等待
